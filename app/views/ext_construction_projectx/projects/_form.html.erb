<% if  @erb_code %>
  <%= render inline: @erb_code %>
  
<% else %>
<div class="container">
  <div class="page-header clearfix">
    <div class="pull-left">
    <h2><%=@title%></h2>
    </div>
  </div>
<%= simple_form_for @project, html: { class: 'form-horizontal col-sm-' + BUTTONS_CLS['form-span#'] },
    wrapper: :horizontal_form,
    wrapper_mappings: {
    check_boxes: :horizontal_radio_and_checkboxes,
    radio_buttons: :horizontal_radio_and_checkboxes,
    file: :horizontal_file_input,
    boolean: :horizontal_boolean
  } do |f| %>
  
  <div class="form-inputs">
  <%= f.input :name, :label => t('Project Name'), :readonly => readonly?(@project, 'name') %> 
  <%= f.input :customer_name_autocomplete,:input_html => { data: {autocomplete_source: SUBURI + kustomerx.autocomplete_customers_path}},
              :label => t('Customer'), :placeholder => t('Enter Customer Keyword'), :required => true unless readonly?(@project, 'customer_id')%>
  <%= f.input :customer_name, :label => t('Customer'), :readonly => true, :input_html => {:value => @customer.short_name} if readonly?(@project, 'customer_id') %>
  <%= f.input :customer_contact, :label => t('Customer Contact'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'customer_contact')  %>
  <%= f.input :project_desp, :label => t('Project Description'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'project_desp') %>
  <%= f.input :construction_spec, :label => t('Construction Spec'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'construction_spec') %>
  <%= f.input :other_spec, :label => t('Other Spec'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'other_spec') %>
  <%= f.input :construction_address, :label => t('Construction Address'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'construction_address') %>
  <%= f.input :turn_over_requirement, :label => t('Turnover Requirement'), :input_html => { :rows => 3}, :readonly => readonly?(@project, 'turn_over_requirement') %>  
  <%= f.input :construction_start_date, :label => t('Construction Start Date'), :as => :string, :readonly => readonly?(@project, 'construction_start_date') %>
  <%= f.input :construction_finish_date, :label => t('Construction Finish Date'), :as => :string, :readonly => readonly?(@project, 'construction_finish_date') %>
  <%= f.input :turn_over_date, :label => t('Turnover Date'), :as => :string, :readonly => readonly?(@project, 'turn_over_date') %>
  <%= f.input :awarded, :label => t('Awarded'), :as => :boolean unless readonly?(@project, 'awarded') %>
  <%= f.input :awarded_noupdate, :label => t('Awarded'), :input_html => {:value => (@project.awarded ? t('Yes') : t('No'))} if readonly?(@project, 'awarded') %>
  <%= f.input :completed, :label => t('Completed'), :as => :boolean unless readonly?(@project, 'completed') %>
  <%= f.input :completed_noupdate, :label => t('Completed'), :input_html => {:value => (@project.completed ? t('Yes') : t('No'))} if readonly?(@project, 'completed') %>
  <%= f.input :cancelled, :label => t('Cancelled'), :as => :boolean unless readonly?(@project, 'cancelled') %>
  <%= f.input :cancelled_noupdate, :label => t('Cancelled'), :input_html => {:value => (@project.cancelled ? t('Yes') : t('No'))} if readonly?(@project, 'cancelled') %>
  <%= f.input :last_updated_by_name, :label => t('Last Updated By'), :input_html => {:value => @project.last_updated_by.name}, :readonly => true %>
     
  <div class="form-actions col-sm-offset-<%=BUTTONS_CLS['offset#']%>" >
      <%= link_to t('Back'), SUBURI + "/authentify/view_handler?index=0", :class => BUTTONS_CLS['action'] %>
      <%= f.button :submit, t('Save'), :class => BUTTONS_CLS['action'] %>
     
  </div> 
  
  </div>
 
<% end %>

</div>

<% end %>


